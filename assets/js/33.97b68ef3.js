(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{478:function(s,a,t){"use strict";t.r(a);var n=t(27),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"一-建立软链接和硬链接的语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一-建立软链接和硬链接的语法"}},[s._v("#")]),s._v(" 一 建立软链接和硬链接的语法")]),s._v(" "),t("blockquote",[t("p",[s._v("软链接：ln -s 源文件 目标文件")])]),s._v(" "),t("blockquote",[t("p",[s._v("硬链接：ln 源文件 目标文件")])]),s._v(" "),t("blockquote",[t("p",[s._v("源文件：即你要对谁建立链接")])]),s._v(" "),t("h2",{attrs:{id:"二-什么是软链接和硬链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-什么是软链接和硬链接"}},[s._v("#")]),s._v(" 二 什么是软链接和硬链接")]),s._v(" "),t("blockquote",[t("p",[s._v("1，软链接可以理解成快捷方式。它和windows下的快捷方式的作用是一样的。")])]),s._v(" "),t("blockquote",[t("p",[s._v("2，硬链接等于cp -p 加 同步更新。")])]),s._v(" "),t("p",[s._v("为了方便说明，建立test文件夹，然后新建了一个link文件")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("apple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n国破山河在\n")])])]),t("p",[s._v("建立软链接和硬链接：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("apple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s link.soft\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" link.hard\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l\ntotal "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n-rw-r--r--  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" apple  staff  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":54 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n-rw-r--r--  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" apple  staff  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":54 link.hard\nlrwxr-xr-x  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" apple  staff   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":55 link.soft -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n")])])]),t("p",[s._v("区别: 软链接文件的大小和创建时间和源文件不同。软链接文件只是维持了从软链接到源文件的指向关系（从link.soft->link可以看出），不是源文件的内容，大小不一样容易理解。\n硬链接文件和源文件的大小和创建时间一样。硬链接文件的内容和源文件的内容一模一样，相当于copy了一份。")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("apple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" link.hard\n国破山河在\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" link.soft\n国破山河在\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" %\n")])])]),t("p",[s._v("我们再看看复制的文件，和软硬链接文件有啥区别，简单的copy的文件创建文件的时间应该是复制文件时的时间，肯定不会像硬链接那样和创建源文件的时间相同。你想的没错。")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("apple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" linkcp1\n-rw-r--r--  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" apple  staff  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":54 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n-rw-r--r--  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" apple  staff  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":03 linkcp1\n")])])]),t("p",[s._v("但是只要加一个选项-p,时间就一样了")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("apple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" linkcp2\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" linkcp2\n-rw-r--r--  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" apple  staff  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":54 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n-rw-r--r--  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" apple  staff  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":54 linkcp2\n\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l link.hard\n-rw-r--r--  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" apple  staff  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":54 link.hard\n")])])]),t("p",[s._v("那么cp -p的文件是不是就相当于硬链接了呢？其实不然，对于源文件的内容有修改，硬链接文件会同步更新修改，始终保持和源文件的内容相同，而复制的文件则不可能做到这一点。")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("apple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n国破山河在\n城春草木深\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" link.hard\n国破山河在\n城春草木深\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" linkcp2\n国破山河在\n")])])]),t("p",[s._v("所以，硬链接等于cp -p加同步更新。\n软链接像快捷方式，方便我们打开源文件，这一点在windows中深有体会，那硬链接有哪些应用呢？\n在多用户的操作系统里，你写一个脚本，程序等，没有完成，保存后等下次有时间继续写，但是其他用户有可能将你未写完的东西当成垃圾清理掉，这时，你对你的程序，脚本等做一个硬链接，利用硬链接的同步更新，就可以防止别人误删你的源文件了。")]),s._v(" "),t("h2",{attrs:{id:"三-删除源文件对软链接和硬链接的影响"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三-删除源文件对软链接和硬链接的影响"}},[s._v("#")]),s._v(" 三 删除源文件对软链接和硬链接的影响")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("apple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" link.soft\ncat: link.soft: No such "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\napple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" link.hard\n国破山河在\n城春草木深\n")])])]),t("p",[s._v("查看软链接文件，查看的文件不存在。和windows一样，删除源文件，快捷方式也用不了。但是删除源文件，为什么硬链接文件还可以查看呢？")]),s._v(" "),t("p",[s._v("这里要简单说下i节点了。i节点是文件和目录的唯一标识，每个文件和目录必有i节点，不然操作系统就无法识别该文件或目录，就像没有上户口的黑户。linux操作系统是不识别这些字母的，像这些link ,link.hard操作系统根本不知道是什么玩意。")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("apple@macs-MacBook-Air "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" % "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" link.hard link.soft\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8931936")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8931936")]),s._v(" link.hard\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8932536")]),s._v(" link.soft\n")])])]),t("p",[s._v("可以看出硬链接文件和源文件i节点号相同，并且一个i节点可以对应多个文件名。")]),s._v(" "),t("p",[s._v("删除了link,只是删除了从8931936到jys的映射关系，不影响它和link.hard的映射关系。也解释了硬链接的同步更新，对源文件修改，操作系统只认i节点，于是操作系统就将修改内容写进所有i节点相同名字不同的文件。写到这里我突发奇想，如果对硬链接文件进行修改那么源文件会不会同步更新呢？\n哈哈哈哈 当让会啦！")]),s._v(" "),t("comment")],1)}),[],!1,null,null,null);a.default=e.exports}}]);