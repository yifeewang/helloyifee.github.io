(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{540:function(s,n,a){"use strict";a.r(n);var t=a(27),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("这两天，因为工作需求，身为一个前端开发人员，接触了使用Nginx+阿里云CentOS系统部署静态web项目的尝试。")]),s._v(" "),a("p",[s._v("首先，声明一点，为了方便，部署的事已经打包好的vuepress项目，因为config.js设置了base路径，导致央视紊乱（已解决），路由跳转有问题（）未解决。")]),s._v(" "),a("p",[s._v("部署条件：")]),s._v(" "),a("blockquote",[a("p",[s._v("1.一台阿里云服务器（本人的是CentOS系统的服务器）")])]),s._v(" "),a("blockquote",[a("p",[s._v("2.已经构建好的项目")])]),s._v(" "),a("blockquote",[a("p",[s._v("3.服务器上安装并配置Nginx")])]),s._v(" "),a("h2",{attrs:{id:"首先第一步-在服务器上安装并配置nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#首先第一步-在服务器上安装并配置nginx"}},[s._v("#")]),s._v(" 首先第一步：在服务器上安装并配置Nginx")]),s._v(" "),a("p",[s._v("进入服务器")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("ssh root@服务器"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("\n")])])]),a("h3",{attrs:{id:"如果出现permission-denied的报错-可百度查看解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如果出现permission-denied的报错-可百度查看解决方法"}},[s._v("#")]),s._v(" 如果出现permission denied的报错，可百度查看解决方法")]),s._v(" "),a("p",[s._v("安装编译工具以及库文件：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y install make  gcc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" libtool     \n")])])]),a("h3",{attrs:{id:"安装pcre-pcre-作用是让-nginx-支持-rewrite-功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装pcre-pcre-作用是让-nginx-支持-rewrite-功能"}},[s._v("#")]),s._v(" 安装PCRE（PCRE 作用是让 Nginx 支持 Rewrite 功能）")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxvf pcre-8.35.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" pcre-8.35\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\npcre-config --version\n")])])]),a("h3",{attrs:{id:"安装zlib库-nginx的gzip模块需要-zlib-库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装zlib库-nginx的gzip模块需要-zlib-库"}},[s._v("#")]),s._v(" 安装zlib库（Nginx的gzip模块需要 zlib 库）")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/ \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://zlib.net/zlib-1.2.11.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf zlib-1.2.11.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" zlib-1.2.11\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h3",{attrs:{id:"安装ssl-nginx的ssl-功能需要openssl库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装ssl-nginx的ssl-功能需要openssl库"}},[s._v("#")]),s._v(" 安装ssl（Nginx的ssl 功能需要openssl库）")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://www.openssl.org/source/openssl-1.0.1j.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf openssl-1.0.1j.tar.gz\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("h3",{attrs:{id:"安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx"}},[s._v("#")]),s._v(" 安装Nginx")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://nginx.org/download/nginx-1.8.0.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf nginx-1.16.1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx-1.16.1  \n./configure --prefix"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx-1.10.3/sbin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置环境变量")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使环境变量生效")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看环境变量有没有进入刚设置的nginx目录")]),s._v("\nnginx -t    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看是否安装成功")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看版本")]),s._v("\n$ /usr/local/nginx/sbin/nginx -v \n")])])]),a("h3",{attrs:{id:"启动nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动nginx"}},[s._v("#")]),s._v(" 启动Nginx")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("/usr/local/webserver/nginx/sbin/nginx\n")])])]),a("p",[s._v("打开浏览器，访问服务器的IP，如果浏览器出现 Welcome to nginx! 则表示 Nginx 已经安装并运行成功。")]),s._v(" "),a("p",[s._v("以下是一些Nginx的相关命令")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重新载入配置文件：")]),s._v("\nsbin/nginx –s reload\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启：")]),s._v("\n/usr/local/nginx/sbin/nginx –s reopen\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止：")]),s._v("\n/usr/local/nginx/sbin/nginx –s stop\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#测试配置文件是否正常：")]),s._v("\n/usr/local/nginx/sbin/nginx –t\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#强制关闭：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pkill")]),s._v(" nginx\n")])])]),a("h2",{attrs:{id:"第二步-在服务器中创建一个文件夹-并将本级中已经构建好的项目传到服务器创建的文件夹中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二步-在服务器中创建一个文件夹-并将本级中已经构建好的项目传到服务器创建的文件夹中"}},[s._v("#")]),s._v(" 第二步：在服务器中创建一个文件夹，并将本级中已经构建好的项目传到服务器创建的文件夹中")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" 文件夹名\n")])])]),a("p",[s._v("通过本机将构建好的项目传输过去")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" 本地文件地址 root@公网地址:公网保存的地址\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# scp /Users/apple/Desktop/helloyifee.github.io root@121.41.46.207:/usr/local/myBlog")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 远程服务器文件传输到本地")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# scp root@公网地址:公网保存的地址 本地文件地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# scp root@121.41.46.207:/usr/local/myBlog/helloyifee.github.io/index.html /Users/apple/Desktop")]),s._v("\n")])])]),a("h2",{attrs:{id:"第三步-修改nginx的配置文件nginx-conf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三步-修改nginx的配置文件nginx-conf"}},[s._v("#")]),s._v(" 第三步：修改Nginx的配置文件Nginx.conf")]),s._v(" "),a("p",[s._v("根据Nginx的启动地址找到相应的配置文件")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/webserver/nginx/conf\n")])])]),a("p",[s._v("编辑Nginx.conf配置文件")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" nginx.conf\n")])])]),a("p",[s._v("配置如下：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 监听端口\n        server_name  localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 监听地址\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#charset koi8-r;")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#access_log  logs/host.access.log  main;")]),s._v("\n\n        location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            root   /usr/local/myBlog/helloyifee.github.io"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 对应项目的地址\n            index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 首页面\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("然后按照上面的指令关闭Nginx，重新加载配置文件并启动")]),s._v(" "),a("p",[s._v("在浏览器中输入服务器IP，就能访问到部署的项目。")]),s._v(" "),a("p",[s._v("如果还是不能访问，可以尝试将nginx.conf顶部的中的user解除注释，并修改名为你的服务器登录名（一般是root）")]),s._v(" "),a("p",[s._v("以上，就是我将静态web项目部署到服务器中的步骤。如何绑定域名，通过访问域名来访问服务器中的项目，将在过几天，我的域名备案通过，绑定成功后更新本篇文章。")]),s._v(" "),a("comment")],1)}),[],!1,null,null,null);n.default=e.exports}}]);